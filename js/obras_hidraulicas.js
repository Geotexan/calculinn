var obras_gtx = 
[
  {
    "CBR":"[0..6)",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[300..∞]",
    "Caida_esc":"[1..∞)",
    "RT":30,
    "ELONG":50,
    "RCBR":"6",
    "RPERF_CONO":"<10",
    "AB_PORO":"<70",
    "KVERT":">15",
    "GEOTESAN":"NT-58"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[300..∞]",
    "Caida_esc":"[1..∞)",
    "RT":30,
    "ELONG":50,
    "RCBR":"6,5",
    "RPERF_CONO":"<10",
    "AB_PORO":"<60",
    "KVERT":">15",
    "GEOTESAN":"NT-69"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[300..∞]",
    "Caida_esc":"[0..1)",
    "RT":25,
    "ELONG":50,
    "RCBR":"5",
    "RPERF_CONO":"<10",
    "AB_PORO":"<70",
    "KVERT":">15",
    "GEOTESAN":"NT-46"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[300..∞]",
    "Caida_esc":"[0..1)",
    "RT":25,
    "ELONG":50,
    "RCBR":"5",
    "RPERF_CONO":"<10",
    "AB_PORO":"<60",
    "KVERT":">15",
    "GEOTESAN":"NT-46"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[0..300)",
    "Caida_esc":"[1..∞)",
    "RT":20,
    "ELONG":50,
    "RCBR":"3,5",
    "RPERF_CONO":"<15",
    "AB_PORO":"<70",
    "KVERT":">25",
    "GEOTESAN":"NT-35"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[0..300)",
    "Caida_esc":"[1..∞)",
    "RT":25,
    "ELONG":50,
    "RCBR":"4",
    "RPERF_CONO":"<10",
    "AB_PORO":"<70",
    "KVERT":">20",
    "GEOTESAN":"NT 40"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[0..300)",
    "Caida_esc":"[0..1)",
    "RT":13,
    "ELONG":50,
    "RCBR":"2,3",
    "RPERF_CONO":"<20",
    "AB_PORO":"<70",
    "KVERT":">25",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[0..300)",
    "Caida_esc":"[0..1)",
    "RT":18,
    "ELONG":50,
    "RCBR":"3",
    "RPERF_CONO":"<15",
    "AB_PORO":"<70",
    "KVERT":">25",
    "GEOTESAN":"NT-30"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[0..100)",
    "Tam_Esc":"[300..∞]",
    "Caida_esc":"[1..∞)",
    "RT":25,
    "ELONG":50,
    "RCBR":"5",
    "RPERF_CONO":"<10",
    "AB_PORO":"<70",
    "KVERT":">15",
    "GEOTESAN":"NT-46"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[0..100)",
    "Tam_Esc":"[300..∞]",
    "Caida_esc":"[1..∞)",
    "RT":28,
    "ELONG":50,
    "RCBR":"6",
    "RPERF_CONO":"<10",
    "AB_PORO":"<60",
    "KVERT":">15",
    "GEOTESAN":"NT-58"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[0..100)",
    "Tam_Esc":"[300..∞]",
    "Caida_esc":"[0..1)",
    "RT":23,
    "ELONG":50,
    "RCBR":"4,2",
    "RPERF_CONO":"<10",
    "AB_PORO":"<70",
    "KVERT":">25",
    "GEOTESAN":"NT-40"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[0..100)",
    "Tam_Esc":"[300..∞]",
    "Caida_esc":"[0..1)",
    "RT":23,
    "ELONG":50,
    "RCBR":"4,7",
    "RPERF_CONO":"<10",
    "AB_PORO":"<70",
    "KVERT":">25",
    "GEOTESAN":"NT-46"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[0..100)",
    "Tam_Esc":"[0..300)",
    "Caida_esc":"[1..∞)",
    "RT":13,
    "ELONG":50,
    "RCBR":"2,3",
    "RPERF_CONO":"<20",
    "AB_PORO":"<70",
    "KVERT":">25",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[0..100)",
    "Tam_Esc":"[0..300)",
    "Caida_esc":"[1..∞)",
    "RT":14,
    "ELONG":50,
    "RCBR":"2,5",
    "RPERF_CONO":"<20",
    "AB_PORO":"<70",
    "KVERT":">25",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[0..100)",
    "Tam_Esc":"[0..300)",
    "Caida_esc":"[0..1)",
    "RT":12,
    "ELONG":50,
    "RCBR":"2",
    "RPERF_CONO":"<20",
    "AB_PORO":"<110",
    "KVERT":">40",
    "GEOTESAN":"NT-21"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[0..100)",
    "Tam_Esc":"[0..300)",
    "Caida_esc":"[0..1)",
    "RT":13,
    "ELONG":50,
    "RCBR":"2,3",
    "RPERF_CONO":"<20",
    "AB_PORO":"<70",
    "KVERT":">25",
    "GEOTESAN":"NT-23"
  }
];

var obras_gtxtil = [
  {
    "CBR":"[0..6)",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[300..∞]",
    "Caida_Esc":"[1..∞)",
    "RT":34,
    "ELONG":50,
    "RCBR":"6,49",
    "RPERF_CONO":8,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-58"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[300..∞]",
    "Caida_Esc":"[1..∞)",
    "RT":39,
    "ELONG":50,
    "RCBR":"6,91",
    "RPERF_CONO":6,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-69"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[300..∞]",
    "Caida_Esc":"[0..1)",
    "RT":31,
    "ELONG":50,
    "RCBR":"5,26",
    "RPERF_CONO":10,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-46"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[300..∞]",
    "Caida_Esc":"[0..1)",
    "RT":31,
    "ELONG":50,
    "RCBR":"5,26",
    "RPERF_CONO":10,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-46"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[0..300)",
    "Caida_Esc":"[1..∞)",
    "RT":23,
    "ELONG":50,
    "RCBR":"3,93",
    "RPERF_CONO":10,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-35"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[0..300)",
    "Caida_Esc":"[1..∞)",
    "RT":25,
    "ELONG":50,
    "RCBR":"4,49",
    "RPERF_CONO":10,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-40"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[0..300)",
    "Caida_Esc":"[0..1)",
    "RT":15,
    "ELONG":50,
    "RCBR":"2,57",
    "RPERF_CONO":20,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[100..∞]",
    "Tam_Esc":"[0..300)",
    "Caida_Esc":"[0..1)",
    "RT":20,
    "ELONG":50,
    "RCBR":"3,31",
    "RPERF_CONO":15,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-30"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[0..100)",
    "Tam_Esc":"[300..∞]",
    "Caida_Esc":"[1..∞)",
    "RT":31,
    "ELONG":50,
    "RCBR":"5,26",
    "RPERF_CONO":10,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-46"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[0..100)",
    "Tam_Esc":"[300..∞]",
    "Caida_Esc":"[1..∞)",
    "RT":34,
    "ELONG":50,
    "RCBR":"6,49",
    "RPERF_CONO":8,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-58"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[0..100)",
    "Tam_Esc":"[300..∞]",
    "Caida_Esc":"[0..1)",
    "RT":25,
    "ELONG":50,
    "RCBR":"4,49",
    "RPERF_CONO":10,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-40"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[0..100)",
    "Tam_Esc":"[300..∞]",
    "Caida_Esc":"[0..1)",
    "RT":31,
    "ELONG":50,
    "RCBR":"5,26",
    "RPERF_CONO":10,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-46"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[0..100)",
    "Tam_Esc":"[0..300)",
    "Caida_Esc":"[1..∞)",
    "RT":15,
    "ELONG":50,
    "RCBR":"2,57",
    "RPERF_CONO":20,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[0..100)",
    "Tam_Esc":"[0..300)",
    "Caida_Esc":"[1..∞)",
    "RT":15,
    "ELONG":50,
    "RCBR":"2,57",
    "RPERF_CONO":20,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[0..6)",
    "Dmax":"[0..100)",
    "Tam_Esc":"[0..300)",
    "Caida_Esc":"[0..1)",
    "RT":13,
    "ELONG":50,
    "RCBR":"2,26",
    "RPERF_CONO":21,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-21"
  },
  {
    "CBR":"[6..∞]",
    "Dmax":"[0..100)",
    "Tam_Esc":"[0..300)",
    "Caida_Esc":"[0..1)",
    "RT":15,
    "ELONG":50,
    "RCBR":"2,57",
    "RPERF_CONO":20,
    "AB_PORO":60,
    "KVERT":40,
    "GEOTESAN":"NT-23"
  }
];

function calcula() {
	var icbr = $('#i-cbr').val();
	var id = $('#i-d').val();
	var itam_esc = $('#i-tam-esc').val();
	var icaida_esc = $('#i-caida-esc').val();

	if (icbr.length === 0 || id === 0 || itam_esc === 0 ||  icaida_esc === 0) {
		alert("Debe introducir todos los valores del formulario");
		return false;
	}

	if (isNaN(icbr) || isNaN(id) || isNaN(itam_esc) || isNaN(icaida_esc)) {
		alert("Los valores deben ser numéricos");
	}

	var cbr;
	if (icbr < 0) {
		alert("El valor de CBR debe ser mayor que 0");
		return false;
	} else if (icbr >= 0 && icbr < 6 ) {
		cbr = "[0..6)";
	} else {
		cbr = "[6..∞)";
	}

	var dmax;
	if (id < 0) {
		alert("El valor de D. Max debe ser mayor que 0");
		return false;
	} else if (id >= 0 && id < 100 ) {
		dmax = "[0..100)";
	} else {
		dmax = "[100..∞)";
	}
	
	var tam_esc;
	if (itam_esc < 0) {
		alert("El valor de Tamaño Escollera debe ser mayor que 0");
		return false;
	} else if (itam_esc >= 0 && itam_esc < 300 ) {
		tam_esc = "[0..300)";
	} else {
		tam_esc = "[300..∞)";
	}

	var caida_esc;
	if (icaida_esc < 0) {
		alert("El valor de Caída Escollera debe ser mayor que 0");
		return false;
	} else if (icaida_esc >= 0 && icaida_esc < 1 ) {
		caida_esc = "[0..1)";
	} else {
		caida_esc = "[1..∞)";
	}


	var result = false;
	$.each(obras_gtx, function(i, item) {
		if (obras_gtx[i]['CBR'] == cbr ) {
			if (obras_gtx[i]['Dmax'] == dmax) {
				if (obras_gtx[i]['Tam_Esc'] == tam_esc) {
					if (obras_gtx[i]['Caida_esc'] == caida_esc) {
						//Relleno valores del formulario y salgo de la iteración
						$('#rt-geotexan-value').val(obras_gtx[i]['RT']);
						$('#elong-geotexan-value').val(obras_gtx[i]['ELONG']);
						$('#cbr-geotexan-value').val(obras_gtx[i]['RCBR']);
						$('#perfcono-geotexan-value').val(obras_gtx[i]['RPERF_CONO']);
						$('#abcono-geotexan-value').val(obras_gtx[i]['AB_CONO']);
						$('#kvert-geotexan-value').val(obras_gtx[i]['KVERT']);
						$('#rt-geotextil-value').val(obras_gtxtil[i]['RT']);
						$('#elong-geotextil-value').val(obras_gtxtil[i]['ELONG']);
						$('#cbr-geotextil-value').val(obras_gtxtil[i]['RCBR']);
						$('#perfcono-geotextil-value').val(obras_gtxtil[i]['RPERF_CONO']);
						$('#abcono-geotextil-value').val(obras_gtxtil[i]['AB_CONO']);
						$('#kvert-geotextil-value').val(obras_gtxtil[i]['KVERT']);
						$('#product').val(obras_gtxtil[i]['GEOTESAN']);
						result = true;
						return false;
					}
				}
			}
		}
	});
	if (!result) {
		alert('No se han encontrado resultados');
	}
}