var ferrocarriles_gtx = [
  {
    "CBR":"[0..1)",
    "Dmax":"[0..150)",
    "Espesor":"[200..400)",
    "RT":17,
    "ELONG":50,
    "RCBR":"3",
    "KVERT":">25",
    "GEOTESAN":"NT-25"
  },
  {
    "CBR":"[0..1)",
    "Dmax":"[0..150)",
    "Espesor":"[400..∞]",
    "RT":16,
    "ELONG":50,
    "RCBR":"2,6",
    "KVERT":">25",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[0..1)",
    "Dmax":"[150..300)",
    "Espesor":"[400..∞]",
    "RT":20,
    "ELONG":50,
    "RCBR":"3,3",
    "KVERT":">25",
    "GEOTESAN":"NT-30"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[0..150)",
    "Espesor":"[200..400)",
    "RT":16,
    "ELONG":50,
    "RCBR":"2,6",
    "KVERT":">25",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[0..150)",
    "Espesor":"[400..∞]",
    "RT":16,
    "ELONG":50,
    "RCBR":"2,6",
    "KVERT":">25",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[150..300)",
    "Espesor":"[200..400)",
    "RT":19,
    "ELONG":50,
    "RCBR":"3",
    "KVERT":">25",
    "GEOTESAN":"NT-25"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[150..300)",
    "Espesor":"[400..∞]",
    "RT":16,
    "ELONG":50,
    "RCBR":"2,6",
    "KVERT":">25",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[300..400)",
    "Espesor":"[400..600)",
    "RT":21,
    "ELONG":50,
    "RCBR":"3,8",
    "KVERT":">25",
    "GEOTESAN":"NT-35"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[400..500)",
    "Espesor":"[600..750)",
    "RT":24,
    "ELONG":50,
    "RCBR":"4,4",
    "KVERT":">15",
    "GEOTESAN":"NT-40"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[500..600)",
    "Espesor":"[750..900)",
    "RT":27,
    "ELONG":50,
    "RCBR":"5,1",
    "KVERT":">15",
    "GEOTESAN":"NT-46"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[600..∞)",
    "Espesor":"[900..∞]",
    "RT":30,
    "ELONG":50,
    "RCBR":"6",
    "KVERT":">15",
    "GEOTESAN":"NT-58"
  }
];

var ferrocarriles_gtxtl = [
  {
    "CBR":"[0..1)",
    "Dmax":"[0..150)",
    "Espesor":"[200..400)",
    "RT":"17,7",
    "ELONG":"58,92",
    "RCBR":"3,02",
    "KVERT":"74,16",
    "GEOTESAN":"NT-25"
  },
  {
    "CBR":"[0..1)",
    "Dmax":"[0..150)",
    "Espesor":"[400..∞]",
    "RT":"16",
    "ELONG":"55,76",
    "RCBR":"2,7",
    "KVERT":"78,68",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[0..1)",
    "Dmax":"[150..300)",
    "Espesor":"[400..∞]",
    "RT":"20",
    "ELONG":"57,64",
    "RCBR":"3,31",
    "KVERT":"69,55",
    "GEOTESAN":"NT-30"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[0..150)",
    "Espesor":"[200..400)",
    "RT":"16",
    "ELONG":"55,76",
    "RCBR":"2,7",
    "KVERT":"78,68",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[0..150)",
    "Espesor":"[400..∞]",
    "RT":"16",
    "ELONG":"55,76",
    "RCBR":"2,7",
    "KVERT":"78,68",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[150..300)",
    "Espesor":"[200..400)",
    "RT":"17,7",
    "ELONG":"58,92",
    "RCBR":"3,02",
    "KVERT":"74,16",
    "GEOTESAN":"NT-25"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[150..300)",
    "Espesor":"[400..∞]",
    "RT":"16",
    "ELONG":"55,76",
    "RCBR":"2,7",
    "KVERT":"78,68",
    "GEOTESAN":"NT-23"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[300..400)",
    "Espesor":"[400..600)",
    "RT":"21,13",
    "ELONG":"57,91",
    "RCBR":"3,93",
    "KVERT":"63,28",
    "GEOTESAN":"NT-35"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[400..500)",
    "Espesor":"[600..750)",
    "RT":"25,2",
    "ELONG":"58,17",
    "RCBR":"4,49",
    "KVERT":"49,96",
    "GEOTESAN":"NT-40"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[500..600)",
    "Espesor":"[750..900)",
    "RT":"27,92",
    "ELONG":"57,82",
    "RCBR":"5,26",
    "KVERT":"43,38",
    "GEOTESAN":"NT-46"
  },
  {
    "CBR":"[1..∞]",
    "Dmax":"[600..∞)",
    "Espesor":"[900..∞]",
    "RT":"31,52",
    "ELONG":"63,11",
    "RCBR":"6,49",
    "KVERT":"40,84",
    "GEOTESAN":"NT-58"
  }
];


function calcula() {
	var icbr = $('#i-cbr').val();
	var ie = $('#i-e').val();
	var id = $('#i-d').val();

	//Storage interval from the input
	var cbr;
	var e;
	var d;

	if (icbr < 1) {
		cbr = "[0..1)";
	} else if (icbr >= 1) {
		cbr = "[1..∞]";
	}

	if (ie < 200) {
		alert("E debe ser mayor o igual a 200");
		return false;
	} else if (ie >=200 && ie < 400) {
		e = "[200..400)";
	} else if (ie >= 400) {
		e = "[400..∞]";
	} 

	if (id < 0) {
		alert("D debe ser mayor o igual a 0");
		return false;
	}
	if (id < 150) {
		d = "[0..150)";
	} else if (id >= 150 && id < 300) {
		d = "[150..300)";
	} else if (id >= 300 && id < 400) {
		d = "[300..400)";
	} else if (id >= 400 && id < 500) {
		d = "[400..500)";
	} else if (id >= 500 && id < 600) {
		d = "[500..600)";
	} else if (id >= 600) {
		d = "[500..∞)";
	} 

	var result = false;
	$.each(ferrocarriles_gtx, function(i, item) {
		if (ferrocarriles_gtx[i]['CBR'] == cbr ) {
			if (ferrocarriles_gtx[i]['Espesor'] == e) {
				if (ferrocarriles_gtx[i]['Dmax'] == d) {
					//Relleno valores del formulario y salgo de la iteración
					$('#rt-geotexan-value').val(ferrocarriles_gtx[i]['RT']);
					$('#elong-geotexan-value').val(ferrocarriles_gtx[i]['ELONG']);
					$('#cbr-geotexan-value').val(ferrocarriles_gtx[i]['RCBR']);
					$('#kvert-geotexan-value').val(ferrocarriles_gtx[i]['KVERT']);
					$('#rt-geotextil-value').val(ferrocarriles_gtxtl[i]['RT']);
					$('#elong-geotextil-value').val(ferrocarriles_gtxtl[i]['ELONG']);
					$('#cbr-geotextil-value').val(ferrocarriles_gtxtl[i]['RCBR']);
					$('#kvert-geotextil-value').val(ferrocarriles_gtxtl[i]['KVERT']);
					$('#product').val(ferrocarriles_gtxtl[i]['GEOTESAN']);
					result = true;
					return true;
				}
			}
		}
	});
	if (!result) {
		alert('No se han encontrado resultados');
	}
}